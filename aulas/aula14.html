<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√≥dulo 14 - Conclus√£o | Telecurso</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --azul-marinho: #002347;
            --azul-royal: #0056b3;
            --ouro: #ffcc00;
            --sucesso: #28a745;
            --branco: #ffffff;
        }
        body { 
            font-family: 'Segoe UI', Arial, sans-serif; 
            line-height: 1.8; 
            padding: 40px 20px; 
            max-width: 850px; 
            margin: auto; 
            background: var(--azul-marinho); 
            color: #f4f4f4;
        }
        .congratulations-card { 
            background: var(--branco); 
            color: #333; 
            padding: 50px; 
            border-radius: 20px; 
            box-shadow: 0 15px 50px rgba(0,0,0,0.3); 
            text-align: center;
            border-bottom: 10px solid var(--ouro);
        }
        .star-icon { font-size: 60px; color: var(--ouro); margin-bottom: 20px; }
        h1 { color: var(--azul-marinho); font-size: 2.5rem; margin-top: 0; }
        h2 { color: var(--azul-royal); margin-top: 35px; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        p { margin-bottom: 20px; text-align: left; }
        .quote { 
            font-style: italic; 
            color: #555; 
            background: #f9f9f9; 
            padding: 20px; 
            border-radius: 10px; 
            margin: 30px 0;
            border-left: 5px solid var(--ouro);
        }
        .checklist-final {
            background: #eef9f1;
            padding: 25px;
            border-radius: 12px;
            text-align: left;
            margin: 30px 0;
        }
        .checklist-final ul { list-style: none; padding: 0; }
        .checklist-final li { margin-bottom: 12px; display: flex; align-items: center; }
        .checklist-final li::before { content: '‚úì'; color: var(--sucesso); font-weight: bold; margin-right: 10px; }

        .btn-finalizar { 
            background: var(--sucesso); 
            color: white; 
            border: none; 
            padding: 22px 40px; 
            border-radius: 10px; 
            cursor: pointer; 
            font-size: 1.3rem; 
            font-weight: bold;
            width: 100%; 
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(40, 167, 69, 0.4);
        }
        .btn-finalizar:hover { 
            background: #218838; 
            transform: scale(1.02);
            box-shadow: 0 10px 25px rgba(40, 167, 69, 0.5);
        }
    </style>
</head>
<body>

    <div class="congratulations-card">
        <div class="star-icon">üèÜ</div>
        <h1>Miss√£o Cumprida!</h1>
        
        <p>Parab√©ns! Voc√™ acaba de concluir a √∫ltima etapa da sua forma√ß√£o te√≥rica e pr√°tica no <strong>Telecurso: Montagem de Computadores</strong>. Chegar at√© aqui demonstra n√£o apenas interesse t√©cnico, mas disciplina e foco em se tornar um profissional de qualidade.</p>

        <div class="quote">
            "A tecnologia √© apenas uma ferramenta. No final do dia, o que importa √© a habilidade e a √©tica de quem a manipula."
        </div>

        <h2>O que voc√™ conquistou?</h2>
        <p>Neste treinamento, passamos por toda a anatomia de um PC moderno. Voc√™ aprendeu desde a delicadeza necess√°ria para instalar um processador de √∫ltima gera√ß√£o at√© a l√≥gica de configura√ß√£o de BIOS e instala√ß√£o de sistemas. Voc√™ n√£o √© mais um "curioso", agora voc√™ possui a base t√©cnica oficial.</p>

        <div class="checklist-final">
            <h3>‚úÖ Agora voc√™ est√° apto a:</h3>
            <ul>
                <li>Identificar e solucionar gargalos de hardware.</li>
                <li>Realizar montagens limpas com gerenciamento de cabos.</li>
                <li>Aplicar normas de seguran√ßa contra est√°tica e curto-circuitos.</li>
                <li>Configurar setups otimizados para trabalho ou jogos.</li>
            </ul>
        </div>

        <h2>Pr√≥ximos Passos na sua Carreira</h2>
        <p>O mercado de hardware est√° em constante evolu√ß√£o. Recomendamos que voc√™ nunca pare de ler sobre novos chipsets, frequ√™ncias de mem√≥rias e tecnologias de refrigera√ß√£o. O seu certificado √© o primeiro passo de muitos em sua jornada profissional.</p>

        <p><strong>Aten√ß√£o:</strong> Ao clicar no bot√£o abaixo, sua nota de conclus√£o ser√° enviada ao sistema e o seu certificado ficar√° dispon√≠vel imediatamente para download no seu painel de m√≥dulos.</p>

        <button class="btn-finalizar" onclick="registrarFim(14)">
            REGISTRAR CONCLUS√ÉO E GERAR CERTIFICADO
        </button>
    </div>

    <script>
        const SUPABASE_URL = 'https://ityqcemfbdzgsfmyisqc.supabase.co';
        const SUPABASE_KEY = 'sb_publishable_p6rMiOpEoL6smdIXgOaclQ_TNK0MwNA';
        const _supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

        async function registrarFim(id) {
            try {
                const { data: { user } } = await _supabase.auth.getUser();
                if(!user) return alert("Sess√£o expirada!");

                // Verifica se j√° registrou para evitar erros
                const { data: existe } = await _supabase
                    .from('progresso_alunos')
                    .select('*')
                    .eq('user_id', user.id)
                    .eq('modulo_id', id);

                if (existe && existe.length === 0) {
                    await _supabase.from('progresso_alunos').insert([{ 
                        user_id: user.id, 
                        modulo_id: id 
                    }]);
                }

                alert("Excelente trabalho! Redirecionando para a √°rea de certificado...");
                window.location.href = '../modulos.html';
            } catch (e) {
                console.error(e);
                alert("Erro ao salvar finaliza√ß√£o. Verifique sua conex√£o.");
            }
        }
    </script>
</body>
</html>